---
title: Gated Definition of Done Review
authors:
  - name: JT Dewey
    email: jt.dewey@intel.com
  - name: Matt Meng
    email: matt.meng@intel.com
layout: post
categories: rfc dod
date:   2015-11-5 16:00:00
---

### Summary
![Gated DoD Review](/files/gated_dod.png)

In order to provide Engineering with a process that protects the product from unexpected bugs (as much as is possible) and to promote a flexible, developer-driven testing paradigm, we propose the following gated definition of done review process.

### Gate 1: The Product Owner
![Gate 1](/files/gated_dod_1.png)
#### Responsibilities
* Organizes major features into epics.
* Ensures each epic has one or more Acceptance and/or Comprehensive level tests, with buy-off from Tech Leads.
* Creates stories for Acceptance and Comprehensive tests.
* Requires Acceptance and Comprehensive tests to be completed to consider the epic (feature) to be shippable.

#### Deliverables
* Acceptance test stories
* Comprehensive test stories

### Gate 2: The Team and Product Owner During Planning
![Gate 2](/files/gated_dod_2.png)
#### Responsibilities
* Decides which BVT and Basic level tests need to be included for each story or group of stories. Add them to the definition of done for each story (so that it is recorded).
* While the number of unit tests is variable, the team should commit to 100% code coverage for new, and where possible old, code.
* Includes this additional work in estimates.
* Records in the story possible areas of impact that could/should be tested.

#### Deliverables
* Augmented stories that include:
  * Refined definition of done with tailored testing requirements
  * Potentially impacted areas

### Gate 3: The Team and Product Owner During Review
![Gate 3](/files/gated_dod_3.png)

**The Informal Code Review**
#### Responsibilities
* Team members review each other's work on a regular basis, also paying close attention to the number of new tests and their pass/fail status.
* Teams should work toward a completed definition of done.
* The team member responsible for the burden of work creates a WIP Merge Request (using the "WIP:" tag in GitLab) that records the definition of done and how it has been achieved (see Merge Request DoD template below).
* Reviews areas of impact and report them to the Tech Lead / Architect (see sample Area of Impact report below).
* Validates automation passes
* Product Owner records definition of done completion, or lack thereof, in Merge Request and signs-off on it.

#### Deliverables
* Completed Story
* Completed Tests
* Completed D.o.D.
* Passing Automation
* WIP Merge Request
* Area of Impact report

### Gate 4: The Tech Lead / Architect During Review
![Gate 4](/files/gated_dod_4.png)

**The Formal Code Review**
#### Responsibilities
* Ensures completeness of code changes and tests.
* Reviews Areas of Impact report.
* Validates definition of done completion.
* Validates automation passes.
* Validates best practices are followed.
* Returns to team if incomplete, otherwise records authorization
* Removes WIP from title of Merge Request
* Assigns Merge Request to Release Team

#### Deliverables
* Completed authorization from Tech Lead
* Merge Request assigned to Release Team

### Gate 5: The Release Team
![Gate 5](/files/gated_dod_5.png)
#### Responsibilities
* Validates 100% definition of done completion.
* Validates all automation passes.
* Validates sign-off from Product Owner and Tech Lead.
* Performs the Merge.
* Records the story in the Release Notes.

#### Deliverables
* Completed story merged into the appropriate branch
* Updated Release Notes

## Templates

### Merge Request DoD Template

The merge request DoD template is based on the type of content being merged.

<dl>
  <dd>Title</dd>
  <dt>The title should begin with the VersionOne or Bugzilla identifier and a succinct summary of the subject of the merge request. Add "[WIP]" or "WIP:" to make it a work-in-progress merge request.</dt>
  <dd>Description</dd>
  <dt>Should contain a more detailed explanation of the merge request (potentially coming from the story or bug description).  Additionally, contains the definition of done relevant to the story type as found below.  The definition of done can contain links to design documentation, threat models, etc.  This section is essentially the team's proof of completion.</dt>
  <dd>Assign to</dd>
  <dt>Assign to the appropriate party according to the gate status of the merge request.</dt>
  <dd>Milestone</dd>
  <dt>Leave blank.</dt>
  <dd>Labels</dd>
  <dt>Label as "epic", "story" or "defect" as appropriate.  Feel free to add additional labels as appropriate.</dt>
</dl>

#### Epic DoD (Feature)
- [ ] Design (*Team*)
- [ ] Documentation
  - [ ] Design Review (*Architects, Tech Leads and Team*)
  - [ ] Threat Model (A report of potential attack vectors. *Architects, Tech Leads and Team*)
  - [ ] Area of Impact Report (*Architects, Tech Leads and Team*)
  - [ ] Supportability Documents (*Team*)
- [ ] Automation Passes (*All*)
  - [ ] *A customized list of new or modified automation for this epic goes here.*
- [ ] Demo (*PO and Team*)

#### Story DoD
- [ ] Design (*Team*)
- [ ] Documentation
  - [ ] Design Review (*Architects, Tech Leads and Team*)
  - [ ] Threat Model (A report of potential attack vectors. *Architects, Tech Leads and Team*)
  - [ ] Area of Impact Report (*Architects, Tech Leads and Team*)
  - [ ] Supportability Documents (*Team*)
- [ ] Formal Code Review (Includes reviewing automation. *Architects and Tech Leads*)
- [ ] Automation Passes (*All*)
  - [ ] *A customized list of new or modified automation for this epic goes here.*
  - [ ] *Manually tested where necessary.  All manual tests are approved here.*
- [ ] Demo (*PO and Team*)

#### Defect DoD
- [ ] Area of Impact Report (*Architects, Tech Leads and Team*)
- [ ] Formal Code Review (Includes reviewing automation. *Architects and Tech Leads*)
- [ ] Automation Passes (*All*)
  - [ ] *A customized list of new or modified automation for this epic goes here.*
  - [ ] *Manually tested where necessary.  All manual tests are approved here.*
- [ ] Target Version reviewed (*Team and Release Team*)

### Area of Impact Report
TBD
